(()=>{"use strict";const e="// vertex shader\r\n\r\nstruct Output {\r\n    @builtin(position) Position : vec4<f32>,\r\n    @location(0) vColor : vec4<f32>\r\n};\r\n\r\n@stage(vertex)\r\nfn vs_main(@builtin(vertex_index) VertexIndex: u32) -> Output {\r\n    var pos = array<vec2<f32>, 3>(\r\n        vec2<f32>(0.0, 0.5),\r\n        vec2<f32>(-0.5, -0.5),\r\n        vec2<f32>(0.5, -0.5)\r\n    );\r\n\r\n    var color = array<vec3<f32>, 3>(\r\n        vec3<f32>(1.0, 0.0, 0.0),\r\n        vec3<f32>(0.0, 1.0, 0.0),\r\n        vec3<f32>(0.0, 0.0, 1.0)\r\n    );\r\n\r\n    var output: Output;\r\n    output.Position = vec4<f32>(pos[VertexIndex], 0.0, 1.0);\r\n    output.vColor = vec4<f32>(color[VertexIndex], 1.0);\r\n    return output;\r\n}\r\n\r\n// fragment shader\r\n\r\n@stage(fragment)\r\nfn fs_main(@location(0) vColor: vec4<f32>) -> @location(0) vec4<f32> {\r\n    return vColor;\r\n}";var r,n,t,o;document.getElementById("id-gpu-check").innerHTML=(()=>{let e="Your current browser supports WebGPU!";return navigator.gpu||(e="Your current browser does not support WebGPU!."),e})(),r=void 0,n=void 0,o=function*(){var r;console.log("called");const n=document.getElementById("canvas-webgpu"),t=yield null===(r=navigator.gpu)||void 0===r?void 0:r.requestAdapter(),o=yield null==t?void 0:t.requestDevice(),u=n.getContext("webgpu"),a="bgra8unorm";let i;null==u||u.configure({device:o,format:a}),i=o.createRenderPipeline({vertex:{module:o.createShaderModule({code:e}),entryPoint:"vs_main"},fragment:{module:o.createShaderModule({code:e}),entryPoint:"fs_main",targets:[{format:a}]},primitive:{topology:"triangle-list"},layout:o.createPipelineLayout({bindGroupLayouts:[]})});const c=o.createCommandEncoder(),l=null==u?void 0:u.getCurrentTexture().createView(),v=c.beginRenderPass({colorAttachments:[{view:l,clearValue:{r:.2,g:.4,b:.2,a:1},loadOp:"clear",storeOp:"store"}]});v.setPipeline(i),v.draw(3,1,0,0),v.end(),o.queue.submit([c.finish()])},new((t=void 0)||(t=Promise))((function(e,u){function a(e){try{c(o.next(e))}catch(e){u(e)}}function i(e){try{c(o.throw(e))}catch(e){u(e)}}function c(r){var n;r.done?e(r.value):(n=r.value,n instanceof t?n:new t((function(e){e(n)}))).then(a,i)}c((o=o.apply(r,n||[])).next())}))})();
//# sourceMappingURL=main.bundle.js.map