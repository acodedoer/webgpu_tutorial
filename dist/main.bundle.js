(()=>{"use strict";const e=()=>{let e="";return navigator.gpu||(e="Your current browser does not support WebGPU!."),e},n="// vertex shader\r\nstruct Output {\r\n    @builtin(position) Position : vec4<f32>,\r\n    @location(0) vColor : vec4<f32>\r\n};\r\n\r\n@stage(vertex)\r\nfn vs_main(@builtin(vertex_index) VertexIndex: u32) -> Output{\r\n    var pos : array<vec2<f32>, 9> = array<vec2<f32>, 9>(             \r\n        vec2<f32>(-0.63,  0.80),\r\n        vec2<f32>(-0.65,  0.20),\r\n        vec2<f32>(-0.20,  0.60),\r\n        vec2<f32>(-0.37, -0.07),\r\n        vec2<f32>( 0.05,  0.18),\r\n        vec2<f32>(-0.13, -0.40),\r\n        vec2<f32>( 0.30, -0.13),\r\n        vec2<f32>( 0.13, -0.64),\r\n        vec2<f32>( 0.70, -0.30)     \r\n    );\r\n\r\n    var color : array<vec3<f32>, 9> = array<vec3<f32>, 9>(             \r\n        vec3<f32>(1.0, 0.0, 0.0),\r\n        vec3<f32>(0.0, 1.0, 0.0),\r\n        vec3<f32>(0.0, 0.0, 1.0),\r\n        vec3<f32>(1.0, 0.0, 0.0),\r\n        vec3<f32>(0.0, 1.0, 0.0),\r\n        vec3<f32>(0.0, 0.0, 1.0),\r\n        vec3<f32>(1.0, 0.0, 0.0),\r\n        vec3<f32>(0.0, 1.0, 0.0),\r\n        vec3<f32>(0.0, 0.0, 1.0),  \r\n    );\r\n\r\n    var output: Output;\r\n    output.Position = vec4<f32>(pos[VertexIndex], 0.0, 1.0);\r\n    output.vColor = vec4<f32>(color[VertexIndex], 1.0);\r\n    return output;\r\n}\r\n\r\n// fragment shader\r\n\r\n@stage(fragment)\r\nfn fs_main(@location(0) vColor: vec4<f32>) -> @location(0) vec4<f32> {\r\n    return vColor;\r\n}";document.getElementById("id-gpu-check").innerHTML=e();const r=(r="triangle-list")=>{return t=void 0,o=void 0,c=function*(){var t;const o=yield(a=void 0,u=void 0,v=void 0,d=function*(){var n;if(e().includes("Your current browser does not support WebGPU!"))throw"No WebGPU Support!";const r=document.getElementById("canvas-webgpu"),t=yield null===(n=navigator.gpu)||void 0===n?void 0:n.requestAdapter(),o=yield null==t?void 0:t.requestDevice(),i=r.getContext("webgpu"),c=(window.devicePixelRatio,r.clientWidth,r.clientHeight,yield navigator.gpu.getPreferredCanvasFormat());return i.configure({device:o,format:c}),{device:o,canvas:r,format:c,context:i}},new(v||(v=Promise))((function(e,n){function r(e){try{o(d.next(e))}catch(e){n(e)}}function t(e){try{o(d.throw(e))}catch(e){n(e)}}function o(n){var o;n.done?e(n.value):(o=n.value,o instanceof v?o:new v((function(e){e(o)}))).then(r,t)}o((d=d.apply(a,u||[])).next())}))),i=o.device,c=o.format;var a,u,v,d;let f,l;"triangle-strip"===r&&(f="uint32"),l=i.createRenderPipeline({vertex:{module:i.createShaderModule({code:n}),entryPoint:"vs_main"},fragment:{module:i.createShaderModule({code:n}),entryPoint:"fs_main",targets:[{format:c}]},primitive:{topology:r,stripIndexFormat:f},layout:i.createPipelineLayout({bindGroupLayouts:[]})});const s=i.createCommandEncoder(),p=null===(t=o.context)||void 0===t?void 0:t.getCurrentTexture().createView(),m=s.beginRenderPass({colorAttachments:[{view:p,clearValue:{r:.2,g:.4,b:.2,a:1},loadOp:"clear",storeOp:"store"}]});m.setPipeline(l),m.draw(9),m.end(),i.queue.submit([s.finish()])},new((i=void 0)||(i=Promise))((function(e,n){function r(e){try{u(c.next(e))}catch(e){n(e)}}function a(e){try{u(c.throw(e))}catch(e){n(e)}}function u(n){var t;n.done?e(n.value):(t=n.value,t instanceof i?t:new i((function(e){e(t)}))).then(r,a)}u((c=c.apply(t,o||[])).next())}));var t,o,i,c};r(),document.getElementById("id-primitive").addEventListener("change",(e=>{r(e.srcElement.value)}))})();
//# sourceMappingURL=main.bundle.js.map